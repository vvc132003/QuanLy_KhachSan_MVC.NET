@model Model.Models.Modeldata
<form method="get" action="/home/timkiemkhachsan">
    <div id="search">
        <div class="container">
            <div class="form-row">
                <div class="control-group col-md-3">
                    <label>Thành phố hoặc tên khách sạn</label>
                    <div class="form-group">
                        <div class="input-group date" id="date-3" data-target-input="nearest">
                            <input type="hidden" id="idkhachsan" name="idkhachsan" class="form-control datetimepicker-input" />
                            <input type="text" id="tenkhachsan" name="tenkhachsan" class="form-control datetimepicker-input" />
                        </div>
                        <div id="suggest" style="display: none; position: absolute; background-color: #f8f9fa; border: 1px solid #ccc; z-index: 999; max-height: 200px; overflow-y: auto;"></div> <!-- Hiển thị gợi ý -->
                    </div>
                </div>
                <div class="control-group col-md-3">
                    <label>Loại phòng</label>
                    <div class="form-group">
                        <div class="input-group date" id="date-4" data-target-input="nearest">
                            <input type="text" id="loaiphong" name="loaiphong" class="form-control datetimepicker-input" />
                        </div>
                        <div id="suggestLoaiPhong" style="display: none; position: absolute; background-color: #f8f9fa; border: 1px solid #ccc; z-index: 999; max-height: 200px; overflow-y: auto;"></div> <!-- Hiển thị gợi ý -->
                    </div>
                </div>
                <div class="control-group col-md-3">
                    <label>Số người</label>
                    <select id="songuoi" name="songuoi" class="custom-select">
                        <option value="1">1</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5</option>
                        <option value="6">6</option>
                        <option value="7">7</option>
                        <option value="8">8</option>
                        <option value="9">9</option>
                        <option value="10">10</option>
                    </select>
                </div>
                <div class="control-group col-md-3">
                    <button type="submit" class="btn btn-block">Tìm kiếm</button>
                </div>
            </div>
        </div>
    </div>
</form>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script>
    $(document).ready(function () {
        $('#tenkhachsan').click(function () {
            $.ajax({
                type: 'POST',
                url: '/Home/GetAllKhachSan',
                success: function (data) {
                    $('#suggest').html(data);
                    $('#suggest').css({ 'display': 'block' });
                    $('#suggest li').on('click', function () {
                        var selected = $(this).text();
                        var selectedId = $(this).data('id');
                        $('#tenkhachsan').val(selected);
                        $('#idkhachsan').val(selectedId);
                        $('#suggest').css({ 'display': 'none' });
                        $.ajax({
                            type: 'POST',
                            url: '/Home/GetAllLoaiPhongIdKhachSan',
                            data: { idkhachsan: selectedId },
                            success: function (data) {
                                $('#suggestLoaiPhong').html(data);
                                $('#suggestLoaiPhong').css({ 'display': 'block' });

                                $('#suggestLoaiPhong li').on('click', function () {
                                    var selected = $(this).text();
                                    var selectedId = $(this).data('id');
                                    $('#loaiphong').val(selected);
                                    $('#loaiphong').data('id', selectedId);
                                    $('#suggestLoaiPhong').css({ 'display': 'none' });
                                });
                            }
                        });
                    });
                }
            });
        });
    });
    $(document).ready(function () {
        $('#loaiphong').click(function () {
            var selectedId = $('#tenkhachsan').data('id');

            $.ajax({
                type: 'POST',
                url: '/Home/GetAllLoaiPhongIdKhachSan',
                data: { idkhachsan: selectedId },
                success: function (data) {
                    $('#suggestLoaiPhong').html(data);
                    $('#suggestLoaiPhong').css({ 'display': 'block' });
                    $('#suggestLoaiPhong li').on('click', function () {
                        var selected = $(this).text();
                        var selectedId = $(this).data('id');
                        $('#loaiphong').val(selected);
                        $('#loaiphong').data('id', selectedId);
                        $('#suggestLoaiPhong').css({ 'display': 'none' });
                    });
                }
            });
        });
    });
</script>


<style>
    /* CSS cho ô nhập liệu và gợi ý */
    #tenkhachsan {
        width: 100%;
        padding: 8px;
        border: 1px solid #ccc;
        border-radius: 4px;
        font-size: 16px;
    }

    #suggest {
        display: none;
        position: absolute;
        background-color: #fff;
        border: 1px solid #ccc;
        z-index: 999;
        max-height: 200px;
        overflow-y: auto;
        width: calc(100% - 2px); /* Adjust width to match the input field */
    }

        #suggest ul {
            list-style-type: none;
            margin: 0;
            padding: 0;
        }

        #suggest li {
            padding: 8px;
            border-bottom: 1px solid #ccc;
            cursor: pointer;
        }

            #suggest li:hover {
                background-color: #f0f0f0;
            }
</style>